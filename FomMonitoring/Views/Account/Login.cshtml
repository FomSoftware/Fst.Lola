@{Layout = null;}
@using FomMonitoringResources
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="UTF-8">

    <link rel="shortcut icon" href="~/favicon.ico" type="image/x-icon">
    <title>Login</title>

    @Styles.Render("~/Content/FomMonitoringStylesLOGIN")
    @Scripts.Render("~/Scripts/FomMonitoringScriptsLOGIN")

</head>
<body>
    <div id="alert-refresh-page" class="alert alert-primary" role="alert" style="display: none; background-color: #D1839A;border-color: #D1839A;color: white;z-index: 100;position: absolute;top: 0px;position: absolute;left: 0;right: 0;margin-left: auto;margin-right: auto;max-width: 50%; text-align: center; padding-top: 0.2em; padding-bottom: 0;">
        Per favore ricaricare la pagina
        <button id="button-refresh-page" type="button" class="btn btn-link" style="border: transparent; color: white;">
            <i class="fa fa-refresh fa-2x"></i>
        </button>
    </div>
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12 col-12">
            <div class="row container-login">
                <div class="header col-12 col-sm-6 col-md-6 col-lg-12">
                    <div class="col-12">Welcome</div>
                    <img class="logo" src="~/Images/logo/Lola-lg.png">
                    @*<div class="title-small">Dashboard</div>*@
                    <img class="logo2" src="~/Images/logo/Log_On_Live_Automation-600x100px.png">
                </div>
                <div class="content col-12 col-sm-6 col-md-6 col-lg-12">
                    @using (Html.BeginForm("Login", "Account", new {ReturnUrl = ViewBag.ReturnUrl}, FormMethod.Post, new {@class = "login-form"}))
                    {
                        @Html.AntiForgeryToken()
                        <div class="form-group">
                            <i class="fa fa-user-o fa-lg" aria-hidden="true"></i>
                            <input class="form-control username" type="text" placeholder="Username" name="username"/>
                        </div>
                        <div class="form-group">
                            <i class="icon-lock fa-lg" aria-hidden="true"></i>
                            <input class="form-control password" type="password" placeholder="Password" name="password"/>
                        </div>
                        if (ViewData.ModelState.Keys.Any(k => ViewData.ModelState[k].Errors.Any()))
                        {
                            <div class="alert validation">
                                @Html.ValidationSummary(true, "", new {@class = "alert-danger ptb-10"})
                            </div>
                        }

                        <div class="row justify-content-center">
                            <div class="col-7 col-sm-6 col-md-6 logo-login">
                                <img class="img-fluid" src="~/Images/logo/Powered_by_FOM-350x200px.png"/>
                            </div>
                            <div class="form-actions col-5 col-sm-6" style="margin-top: 0; align-self: center;">
                                <button type="submit">LOGIN</button>
                            </div>
                        </div>
                    }
                </div>
                <div class="col-12 col-sm-6 col-md-6 col-lg-12 justify-content-md-start" style="padding-left: 0; padding-right: 0; top: -10px">

                    <a id="disclamerTextLink" class="btn btn-link btn-block text-center" data-toggle="modal" data-target="#disclamer-modal" style="white-space: unset;">
                        @Html.Raw(Resource.DisclaimerLogin)
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

@Html.Partial("Modals/_Disclaimer")
<script type="text/javascript">

    $(function() {
        var $window = $(window);
        var width = $window.width();
        var height = $window.height();

        setInterval(function() {
                if ((width !== $window.width()) || (height !== $window.height())) {

                    var diffWidth = Math.abs(width - $window.width());
                    var diffHeight = Math.abs(height - $window.height());

                    if (diffWidth > 50 || diffHeight > 50) {

                        width = $window.width();
                        height = $window.height();

                        $('#alert-refresh-page').show();
                    }

                }
            },
            300);

        $("#button-refresh-page, #alert-refresh-page").click(function() {
            location.reload();
        });
    });

</script>
</body>
</html>
